# 日志查询的工作模块

## 2018-9-22

- 访问日志所有内容查询 [访问日志get_nginx_accesslog](../phaser1/api/base/api_views.py) 
- 告警日志所有查询 [同上位置]

## 2018-9-28 
### 访问日志条件查询
访问日志条件查询
- 1, 根据 客户端类型\Device\OS\时间段\状态码\URL\RequestMethod\等条件查询。
- 2, 设置 `view+` 条件聚类抽象接口


## 2018-9-29 
- 增强版查询, `accesslog_search2` 从2.47优化到了0.22s

## 2018-10-8
- 优化访问日志的内容查询、【0】
- 编辑告警日志的内容查询(提取字段)【1】
- 修改规则ID/前台加密和解密的内容【1】
- 增加相关的规则测试内容【2】
- 测试VeryNginx结合的规则项内容【2】

## 2018-10-9

------------------------------------------------------
## 2018-11-2
- 增加WAF防护统计相关的接口

### 要求
- 1, 同访问日志的高级查询和统计
- 2, 统计的类型就是 `audit_logid`,`remote_addr`, `category` 

-------------------------------------------------
# 重构

## 2019-5-5
- 全部重构。
- 原因是日志的存储不方便查询。WEB访问效率极慢。另外三个表格都可以用M




